{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "3d24d650_e1dcccc7",
        "filename": ".ansible-lint",
        "patchSetId": 9
      },
      "lineNbr": 22,
      "author": {
        "id": 1019630
      },
      "writtenOn": "2024-02-07T08:11:49Z",
      "side": 1,
      "message": "This one is about adding changed_when for every shell/command module.\n\nI\u0027m not finding it very useful. Let me know if you think otherwise.\n\nAn example of such a usage in - https://review.gerrithub.io/c/shiftstack/shiftstack-qa/+/1176481/9/collection/stages/roles/verification/tasks/check_cinder_csi.yml#50",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 22,
        "endChar": 19
      },
      "revId": "6a23b702767fb70fe2ba1cd959e4aa6ee7066483",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2497dcdd_92bc8f91",
        "filename": ".ansible-lint",
        "patchSetId": 9
      },
      "lineNbr": 22,
      "author": {
        "id": 1017837
      },
      "writtenOn": "2024-02-07T08:41:22Z",
      "side": 1,
      "message": "I think It\u0027s better if we keep a control of the tasks that are changing something in the system.\n\nThis check remember us to think about the idempotency in ansible. If we run the same playbook several times, the result should be the same. This is something that we were not paying attention on the plugin and I really think we should.",
      "parentUuid": "3d24d650_e1dcccc7",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 22,
        "endChar": 19
      },
      "revId": "6a23b702767fb70fe2ba1cd959e4aa6ee7066483",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b013c241_a7bfbcfb",
        "filename": ".ansible-lint",
        "patchSetId": 9
      },
      "lineNbr": 22,
      "author": {
        "id": 1019630
      },
      "writtenOn": "2024-02-07T09:32:05Z",
      "side": 1,
      "message": "This one is kind of time-consuming, as we have 55 failures of `no-changed-when`, and to fix them, we have to go over each one of them, explore the logic of the shell action, and decide the change condition.\n\nFrom a priority point of view, I think we can create a Jira task for it, and move to the migration of `openstack-tests` first. wdyt?",
      "parentUuid": "2497dcdd_92bc8f91",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 22,
        "endChar": 19
      },
      "revId": "6a23b702767fb70fe2ba1cd959e4aa6ee7066483",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bfb81435_230f5504",
        "filename": ".ansible-lint",
        "patchSetId": 9
      },
      "lineNbr": 23,
      "author": {
        "id": 1019630
      },
      "writtenOn": "2024-02-07T08:11:49Z",
      "side": 1,
      "message": "This one is about using an ansible var just at the end of the block/task \u0027name\u0027.\n\nAn example is the change in line #3 - https://review.gerrithub.io/c/shiftstack/shiftstack-qa/+/1176481/9/collection/stages/roles/verification/tasks/check_cinder_csi.yml#3\n\nIn some cases, I think this can negatively affect the readability of the code.\nLet me know wdyt.",
      "range": {
        "startLine": 23,
        "startChar": 0,
        "endLine": 23,
        "endChar": 18
      },
      "revId": "6a23b702767fb70fe2ba1cd959e4aa6ee7066483",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dbb26728_c7eeb72b",
        "filename": ".ansible-lint",
        "patchSetId": 9
      },
      "lineNbr": 23,
      "author": {
        "id": 1017837
      },
      "writtenOn": "2024-02-07T08:41:22Z",
      "side": 1,
      "message": "yes, we can ignore it too.",
      "parentUuid": "bfb81435_230f5504",
      "range": {
        "startLine": 23,
        "startChar": 0,
        "endLine": 23,
        "endChar": 18
      },
      "revId": "6a23b702767fb70fe2ba1cd959e4aa6ee7066483",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f0327f14_49d09c3f",
        "filename": ".ansible-lint",
        "patchSetId": 9
      },
      "lineNbr": 23,
      "author": {
        "id": 1019630
      },
      "writtenOn": "2024-02-07T09:32:05Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "dbb26728_c7eeb72b",
      "range": {
        "startLine": 23,
        "startChar": 0,
        "endLine": 23,
        "endChar": 18
      },
      "revId": "6a23b702767fb70fe2ba1cd959e4aa6ee7066483",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "affc2fef_4d3262ff",
        "filename": ".ansible-lint",
        "patchSetId": 9
      },
      "lineNbr": 24,
      "author": {
        "id": 1019630
      },
      "writtenOn": "2024-02-07T08:11:49Z",
      "side": 1,
      "message": "This one is about setting a `pipefail` option for every shell command that uses pipe (|).\n\nNot sure how useful it is. wdyt?\n\n\n[0] https://ansible.readthedocs.io/projects/lint/rules/risky-shell-pipe/?h\u003drisky+shell+pipe",
      "range": {
        "startLine": 24,
        "startChar": 0,
        "endLine": 24,
        "endChar": 20
      },
      "revId": "6a23b702767fb70fe2ba1cd959e4aa6ee7066483",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "127aaa04_70f66c91",
        "filename": ".ansible-lint",
        "patchSetId": 9
      },
      "lineNbr": 24,
      "author": {
        "id": 1017837
      },
      "writtenOn": "2024-02-07T08:41:22Z",
      "side": 1,
      "message": "I also think we should implement this. It\u0027s easy to do and help to detect issues.",
      "parentUuid": "affc2fef_4d3262ff",
      "range": {
        "startLine": 24,
        "startChar": 0,
        "endLine": 24,
        "endChar": 20
      },
      "revId": "6a23b702767fb70fe2ba1cd959e4aa6ee7066483",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "055ce0a7_e489fed1",
        "filename": ".ansible-lint",
        "patchSetId": 9
      },
      "lineNbr": 24,
      "author": {
        "id": 1019630
      },
      "writtenOn": "2024-02-07T09:32:05Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "127aaa04_70f66c91",
      "range": {
        "startLine": 24,
        "startChar": 0,
        "endLine": 24,
        "endChar": 20
      },
      "revId": "6a23b702767fb70fe2ba1cd959e4aa6ee7066483",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e5f7d7c5_df97db88",
        "filename": ".ansible-lint",
        "patchSetId": 9
      },
      "lineNbr": 25,
      "author": {
        "id": 1019630
      },
      "writtenOn": "2024-02-07T08:11:49Z",
      "side": 1,
      "message": "This one is about the usage of `ignore_errors `.\n\nIt could be useful, but on the other side, it could complicate our code.\nLet me know what is your opinion regarding this rule.\n\n[0] https://ansible.readthedocs.io/projects/lint/rules/ignore-errors",
      "range": {
        "startLine": 25,
        "startChar": 0,
        "endLine": 25,
        "endChar": 17
      },
      "revId": "6a23b702767fb70fe2ba1cd959e4aa6ee7066483",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "410a3e7a_31fab091",
        "filename": ".ansible-lint",
        "patchSetId": 9
      },
      "lineNbr": 25,
      "author": {
        "id": 1017837
      },
      "writtenOn": "2024-02-07T08:41:22Z",
      "side": 1,
      "message": "yeah, this complicates things. I agree to ignore.",
      "parentUuid": "e5f7d7c5_df97db88",
      "range": {
        "startLine": 25,
        "startChar": 0,
        "endLine": 25,
        "endChar": 17
      },
      "revId": "6a23b702767fb70fe2ba1cd959e4aa6ee7066483",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cf19117d_ff428851",
        "filename": ".ansible-lint",
        "patchSetId": 9
      },
      "lineNbr": 25,
      "author": {
        "id": 1019630
      },
      "writtenOn": "2024-02-07T09:32:05Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "410a3e7a_31fab091",
      "range": {
        "startLine": 25,
        "startChar": 0,
        "endLine": 25,
        "endChar": 17
      },
      "revId": "6a23b702767fb70fe2ba1cd959e4aa6ee7066483",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c47590dd_fd5521bc",
        "filename": ".pre-commit-config.yaml",
        "patchSetId": 9
      },
      "lineNbr": 12,
      "author": {
        "id": 1019630
      },
      "writtenOn": "2024-02-07T08:11:49Z",
      "side": 1,
      "message": "Fixing dependencies issues.",
      "revId": "6a23b702767fb70fe2ba1cd959e4aa6ee7066483",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fbc686fa_9054a58a",
        "filename": ".yamllint.yaml",
        "patchSetId": 9
      },
      "lineNbr": 17,
      "author": {
        "id": 1019630
      },
      "writtenOn": "2024-02-07T08:11:49Z",
      "side": 1,
      "message": "As this file is encrypted with ansible-vault.\n\nIgnore just this file for the `document-start` rule, instead of using yaml[document-start] for all of the files in the ansible-lint skip_list.",
      "range": {
        "startLine": 15,
        "startChar": 0,
        "endLine": 17,
        "endChar": 0
      },
      "revId": "6a23b702767fb70fe2ba1cd959e4aa6ee7066483",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c036ca82_1b9c19c9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 1019630
      },
      "writtenOn": "2024-02-07T08:11:49Z",
      "side": 1,
      "message": "Hey, this is the right time to define our code conventions and the rules we want to include in our lint.\n\nPlease review my comments. 10x!",
      "revId": "6a23b702767fb70fe2ba1cd959e4aa6ee7066483",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "24ff863d_b2387772",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 1019630
      },
      "writtenOn": "2024-02-07T08:17:55Z",
      "side": 1,
      "message": "1. Verified locally on a virt setup.\n2. Lint passed\n\n```bash\n(.venv) imatza@imatza-mac shiftstack-qa % ansible-lint\nPassed: 0 failure(s), 0 warning(s) on 107 files. Profile \u0027production\u0027 was required, and it passed.\n```\n\n```bash\n(.venv) imatza@imatza-mac shiftstack-qa % pre-commit\nAnsible Lint.............................................................Passed\n- hook id: ansible-lint\n- duration: 5.1s\n\nINFO     Identified /Users/imatza/git/shiftstack-qa as project root due .git directory.\nINFO     Set ANSIBLE_LIBRARY\u003d/Users/imatza/.cache/ansible-compat/5cbf19/modules:/Users/imatza/.ansible/plugins/modules:/usr/share/ansible/plugins/modules\nINFO     Set ANSIBLE_COLLECTIONS_PATH\u003d/Users/imatza/.cache/ansible-compat/5cbf19/collections:/Users/imatza/.ansible/collections:/usr/share/ansible/collections\nINFO     Set ANSIBLE_ROLES_PATH\u003d/Users/imatza/.cache/ansible-compat/5cbf19/roles:/Users/imatza/.ansible/roles:/usr/share/ansible/roles:/etc/ansible/roles\nINFO     Loading ignores from .gitignore\nINFO     Excluded: .git\nINFO     Excluded: .venv\nINFO     Loading ignores from .gitignore\nINFO     Excluded: .git\nINFO     Excluded: .venv\nINFO     Set ANSIBLE_LIBRARY\u003d/Users/imatza/.cache/ansible-compat/5cbf19/modules:/Users/imatza/.ansible/plugins/modules:/usr/share/ansible/plugins/modules\nINFO     Set ANSIBLE_COLLECTIONS_PATH\u003d/Users/imatza/.cache/ansible-compat/5cbf19/collections:/Users/imatza/.ansible/collections:/usr/share/ansible/collections\nINFO     Set ANSIBLE_ROLES_PATH\u003d/Users/imatza/.cache/ansible-compat/5cbf19/roles:/Users/imatza/.ansible/roles:/usr/share/ansible/roles:/etc/ansible/roles\nINFO     Executing syntax check on role collection/tools/roles/tools_cluster_checks (0.53s)\nINFO     Executing syntax check on role collection/stages/roles/test (0.54s)\nINFO     Executing syntax check on role collection/stages/roles/cleanup (0.54s)\nINFO     Executing syntax check on role collection/tools/roles/tools_get_openshift_release (0.55s)\nINFO     Executing syntax check on role collection/tools/roles/tools_get_deploy_info (0.56s)\nINFO     Executing syntax check on role collection/stages/roles/day2ops (0.58s)\nINFO     Executing syntax check on role collection/stages/roles/install (0.60s)\nINFO     Executing syntax check on role collection/tools/roles/tools_must-gather (0.61s)\nINFO     Executing syntax check on playbook playbooks/legacy_ocp_testing.yaml (0.63s)\nINFO     Executing syntax check on playbook playbooks/ocp_testing.yaml (0.64s)\nINFO     Executing syntax check on role collection/tools/roles/tools_ocp_project (0.33s)\nINFO     Executing syntax check on role collection/stages/roles/post (0.33s)\nINFO     Executing syntax check on role collection/tools/roles/tools_stage_results (0.34s)\nINFO     Executing syntax check on role collection/stages/roles/prepare (0.36s)\nINFO     Executing syntax check on role collection/stages/roles/verification (0.38s)\n\nPassed: 0 failure(s), 0 warning(s) on 107 files. Profile \u0027production\u0027 was required, and it passed.\n```",
      "revId": "6a23b702767fb70fe2ba1cd959e4aa6ee7066483",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "170b916e_c44b2053",
        "filename": "configs/secret.yaml",
        "patchSetId": 9
      },
      "lineNbr": 1,
      "author": {
        "id": 1019630
      },
      "writtenOn": "2024-02-07T08:11:49Z",
      "side": 1,
      "message": "This change is about adding `---` at the start of the decrypted file.",
      "range": {
        "startLine": 1,
        "startChar": 0,
        "endLine": 1,
        "endChar": 25
      },
      "revId": "6a23b702767fb70fe2ba1cd959e4aa6ee7066483",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}