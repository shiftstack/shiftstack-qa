# This file is autogenerated by shiftstack-qe automation
apiVersion: v1
baseDomain: "{{ installcfg_ocp_base_domain }}"
compute:
- name: worker
  platform:
    openstack:
      type: "{{ installcfg_worker_flavor }}"
      serverGroupPolicy: "{{ installcfg_worker_servergrouppolicy | default('soft-anti-affinity') }}"
  replicas: "{{ installcfg_worker_replicas | default(0) }}"
controlPlane:
  name: master
  platform:
    openstack:
      type: "{{ installcfg_master_flavor }}"
      serverGroupPolicy: "{{ installcfg_master_servergrouppolicy | default('hard-anti-affinity') }}"
      {% if installcfg_ctrl_rootvolume | default({}) != {} -%}
      rootVolume: {{ installcfg_ctrl_rootvolume }}
      {% endif -%}
  replicas: "{{ installcfg_master_replicas | default(3) }}"
metadata:
  name: "{{ installcfg_cluster_name }}"
networking:
  clusterNetworks:
  - cidr: 10.128.0.0/14
    hostSubnetLength: 9
  serviceNetwork:
    - 172.30.0.0/16
  machineNetwork:
    - cidr: "{{ installcfg_cidr | default('192.168.0.0/24') }}"
  networkType: "{{ installcfg_network_type | default('OVNKubernetes') }}"
platform:
  openstack:
    cloud: "{{ user_cloud }}"
    externalNetwork: "{{ installcfg_external_network | default('ext-net') }}"
    region: "{{ installcfg_region }}"
    apiFloatingIP: "{{ installcfg_api_floating_ip }}"
    ingressFloatingIP: "{{ installcfg_ingress_floating_ip }}"
    externalDNS: "{{ installcfg_dns_servers | default([]) }}"
pullSecret: |
  {{ ocp_pull_secret }}
sshKey: |
  {{ ocp_public_key }}
